<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Requirements Quality Report ‚Äî PII Anonymizer</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: system-ui, -apple-system, sans-serif; background: #f8f9fa; color: #212529; }
  .header { background: #212529; color: white; padding: 2rem 2.5rem; }
  .header h1 { font-size: 1.6rem; font-weight: 600; }
  .header p { color: #adb5bd; margin-top: .4rem; font-size: .9rem; }
  .content { max-width: 1400px; margin: 0 auto; padding: 2rem 2.5rem; }
  .stats-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 1rem; margin-bottom: 2rem; }
  .stat-card { background: white; border: 1px solid #dee2e6; border-radius: 8px; padding: 1.2rem; text-align: center; }
  .stat-card h2 { font-size: 2.2rem; font-weight: 700; }
  .stat-card p { font-size: .8rem; color: #6c757d; margin-top: .3rem; text-transform: uppercase; letter-spacing: .05em; }
  .stat-card.green { border-top: 3px solid #28a745; } .stat-card.green h2 { color: #28a745; }
  .stat-card.blue { border-top: 3px solid #007bff; } .stat-card.blue h2 { color: #007bff; }
  .stat-card.orange { border-top: 3px solid #fd7e14; } .stat-card.orange h2 { color: #fd7e14; }
  .stat-card.red { border-top: 3px solid #dc3545; } .stat-card.red h2 { color: #dc3545; }
  .stat-card.purple { border-top: 3px solid #6f42c1; } .stat-card.purple h2 { color: #6f42c1; }
  .stat-card.teal { border-top: 3px solid #20c997; } .stat-card.teal h2 { color: #20c997; }
  section { background: white; border: 1px solid #dee2e6; border-radius: 8px; margin-bottom: 2rem; overflow: hidden; }
  section h2 { font-size: 1rem; font-weight: 600; padding: 1rem 1.5rem; background: #f1f3f5; border-bottom: 1px solid #dee2e6; }
  .section-body { padding: 1.5rem; }
  table { width: 100%; border-collapse: collapse; font-size: .85rem; }
  th { background: #343a40; color: white; padding: .6rem .8rem; text-align: left; font-weight: 500; }
  td { padding: .55rem .8rem; border-bottom: 1px solid #f1f3f5; vertical-align: top; }
  tr:last-child td { border-bottom: none; }
  .badge-l1 { background: #007bff; color: white; padding: 2px 8px; border-radius: 12px; font-size: .75rem; font-weight: 600; }
  .badge-l2 { background: #6c757d; color: white; padding: 2px 8px; border-radius: 12px; font-size: .75rem; font-weight: 600; }
  .flag { background: #ffc107; color: #000; padding: 2px 7px; border-radius: 4px; font-size: .75rem; margin: 1px; display: inline-block; }
  .ok { color: #28a745; font-weight: 600; }
  .domain-grid { display: flex; flex-wrap: wrap; gap: 1rem; }
  .domain-card { background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 1rem 1.5rem; text-align: center; min-width: 100px; }
  .domain-card h3 { font-size: .85rem; color: #6c757d; text-transform: uppercase; letter-spacing: .08em; }
  .domain-card p { font-size: 1.8rem; font-weight: 700; color: #212529; margin-top: .2rem; }
  code { background: #f1f3f5; padding: 1px 5px; border-radius: 3px; font-size: .8rem; }
  .alert { background: #fff3cd; border: 1px solid #ffc107; border-radius: 6px; padding: 1rem; margin-bottom: 1rem; font-size: .9rem; }
  .alert.green { background: #d4edda; border-color: #28a745; }
</style>
</head>
<body>
<div class="header">
  <h1>Requirements Quality Report ‚Äî PII Anonymizer Sidecar</h1>
  <p>Source: requirements.json &nbsp;|&nbsp; Generated: 2026-02-23 11:36 &nbsp;|&nbsp; Schema: INCOSE / 2-Level Hierarchy</p>
</div>
<div class="content">

  <div class="stats-grid">
    <div class="stat-card blue"><h2>37</h2><p>Total Requirements</p></div>
    <div class="stat-card purple"><h2>16</h2><p>L1 System</p></div>
    <div class="stat-card teal"><h2>21</h2><p>L2 Subsystem</p></div>
    <div class="stat-card green"><h2>37</h2><p>Clean (No Flags)</p></div>
    <div class="stat-card orange"><h2>5</h2><p>Interfaces Covered</p></div>
    <div class="stat-card green"><h2>0</h2><p>Orphan L2</p></div>
  </div>

  <div class="alert green">‚úÖ All requirements are clean ‚Äî no quality flags detected.</div>

  <section>
    <h2>üì° Interface Coverage (L1 Requirements per Context Diagram Interface)</h2>
    <div class="section-body">
    <table>
      <tr><th>Interface</th><th>Requirements</th><th>Count</th></tr>
      <tr><td>API Request / API Response</td><td>SYS-001, SYS-002, SYS-003, SYS-015, SYS-016</td><td>5</td></tr>
<tr><td>Admin Interface</td><td>SYS-004, SYS-005, SYS-006</td><td>3</td></tr>
<tr><td>CLI Command / CLI Output</td><td>SYS-007, SYS-008, SYS-009, SYS-010, SYS-011</td><td>5</td></tr>
<tr><td>HTTP Forward (Caddy ‚Üí SOI)</td><td>SYS-014</td><td>1</td></tr>
<tr><td>Vault Storage</td><td>SYS-012, SYS-013</td><td>2</td></tr>

    </table>
    </div>
  </section>

  <section>
    <h2>üóÇ L2 Subsystem Domain Breakdown</h2>
    <div class="section-body">
      <div class="domain-grid"><div class="domain-card"><h3>CTRL</h3><p>9 reqs</p></div><div class="domain-card"><h3>DAT</h3><p>6 reqs</p></div><div class="domain-card"><h3>PERF</h3><p>2 reqs</p></div><div class="domain-card"><h3>SEC</h3><p>4 reqs</p></div></div>
    </div>
  </section>

  <section>
    <h2>üìã Full Requirements Matrix</h2>
    <table>
      <tr>
        <th>ID</th><th>Level</th><th>Title</th><th>Interface</th>
        <th>Test Method</th><th>Test Case ID</th><th>Parents</th><th>Children</th><th>Flags</th>
      </tr>
      <tr style="background:white">
          <td><code>SYS-001</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Anonymize Text via REST API</td>
          <td>API Request / API Response</td>
          <td>Test</td>
          <td><code>TC-SYS-001</code></td>
          <td>‚Äî</td>
          <td>SUB-CTRL-001, SUB-CTRL-002, SUB-DAT-001, SUB-PERF-001</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-002</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Restore Anonymized Text via REST API</td>
          <td>API Request / API Response</td>
          <td>Test</td>
          <td><code>TC-SYS-002</code></td>
          <td>‚Äî</td>
          <td>SUB-CTRL-003, SUB-DAT-002</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-003</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Enforce Bearer Token Authentication on API</td>
          <td>API Request / API Response</td>
          <td>Test</td>
          <td><code>TC-SYS-003</code></td>
          <td>‚Äî</td>
          <td>SUB-SEC-001</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-004</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Expose Health Endpoint on Loopback Only</td>
          <td>Admin Interface</td>
          <td>Test</td>
          <td><code>TC-SYS-004</code></td>
          <td>‚Äî</td>
          <td>SUB-SEC-002, SUB-CTRL-004</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-005</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Expose Session Inspection via Admin Interface</td>
          <td>Admin Interface</td>
          <td>Test</td>
          <td><code>TC-SYS-005</code></td>
          <td>‚Äî</td>
          <td>SUB-DAT-003</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-006</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Support Session Deletion via Admin Interface</td>
          <td>Admin Interface</td>
          <td>Test</td>
          <td><code>TC-SYS-006</code></td>
          <td>‚Äî</td>
          <td>SUB-DAT-004</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-007</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Accept CLI Anonymize Command</td>
          <td>CLI Command / CLI Output</td>
          <td>Test</td>
          <td><code>TC-SYS-007</code></td>
          <td>‚Äî</td>
          <td>SUB-CTRL-005, SUB-CTRL-001</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-008</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Accept CLI Restore Command</td>
          <td>CLI Command / CLI Output</td>
          <td>Test</td>
          <td><code>TC-SYS-008</code></td>
          <td>‚Äî</td>
          <td>SUB-CTRL-006, SUB-CTRL-003</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-009</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Accept CLI Show Command</td>
          <td>CLI Command / CLI Output</td>
          <td>Test</td>
          <td><code>TC-SYS-009</code></td>
          <td>‚Äî</td>
          <td>SUB-DAT-003, SUB-CTRL-007</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-010</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Accept CLI Reset Command</td>
          <td>CLI Command / CLI Output</td>
          <td>Test</td>
          <td><code>TC-SYS-010</code></td>
          <td>‚Äî</td>
          <td>SUB-DAT-004, SUB-CTRL-008</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-011</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Accept CLI Serve Command</td>
          <td>CLI Command / CLI Output</td>
          <td>Test</td>
          <td><code>TC-SYS-011</code></td>
          <td>‚Äî</td>
          <td>SUB-CTRL-004, SUB-CTRL-009</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-012</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Persist Session Mappings Across Restarts</td>
          <td>Vault Storage</td>
          <td>Test</td>
          <td><code>TC-SYS-012</code></td>
          <td>‚Äî</td>
          <td>SUB-DAT-001, SUB-DAT-002, SUB-DAT-005</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-013</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Enforce Session TTL Expiry</td>
          <td>Vault Storage</td>
          <td>Test</td>
          <td><code>TC-SYS-013</code></td>
          <td>‚Äî</td>
          <td>SUB-DAT-006</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-014</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Accept HTTPS Requests via Caddy Proxy</td>
          <td>HTTP Forward (Caddy ‚Üí SOI)</td>
          <td>Test</td>
          <td><code>TC-SYS-014</code></td>
          <td>‚Äî</td>
          <td>SUB-SEC-003</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-015</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Reject Requests Exceeding Maximum Size</td>
          <td>API Request / API Response</td>
          <td>Test</td>
          <td><code>TC-SYS-015</code></td>
          <td>‚Äî</td>
          <td>SUB-SEC-004, SUB-PERF-002</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SYS-016</code></td>
          <td><span class="badge-l1">L1</span></td>
          <td>Produce Deterministic Placeholders Within Session</td>
          <td>API Request / API Response</td>
          <td>Test</td>
          <td><code>TC-SYS-016</code></td>
          <td>‚Äî</td>
          <td>SUB-CTRL-001, SUB-DAT-001</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-001</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Detect PERSON and ORG Entities via Presidio</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-001</code></td>
          <td>SYS-001, SYS-016</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-002</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Apply Span-Safe Placeholder Substitution</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-002</code></td>
          <td>SYS-001</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-003</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Restore Placeholders via Exact Match</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-003</code></td>
          <td>SYS-002, SYS-008</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-004</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Bind Service to Loopback by Default</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-004</code></td>
          <td>SYS-004, SYS-011</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-005</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>CLI Delegates to Library in Local Mode</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-005</code></td>
          <td>SYS-007</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-006</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>CLI Restore Delegates to Library in Local Mode</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-006</code></td>
          <td>SYS-008</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-007</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>CLI Show Formats Output as Table or JSON</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-007</code></td>
          <td>SYS-009</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-008</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>CLI Reset Clears Session and Confirms on Stdout</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-008</code></td>
          <td>SYS-010</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-CTRL-009</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Serve Command Logs Startup to Stdout</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-CTRL-009</code></td>
          <td>SYS-011</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-DAT-001</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Atomic Get-or-Create Mapping in Vault</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-DAT-001</code></td>
          <td>SYS-001, SYS-012, SYS-016</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-DAT-002</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Retrieve Mapping by Placeholder for Restore</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-DAT-002</code></td>
          <td>SYS-002, SYS-012</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-DAT-003</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>List Session Mappings with Limit</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-DAT-003</code></td>
          <td>SYS-005, SYS-009</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-DAT-004</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Delete Session with Cascade</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-DAT-004</code></td>
          <td>SYS-006, SYS-010</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-DAT-005</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Initialize SQLite Schema on First Run</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-DAT-005</code></td>
          <td>SYS-012</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-DAT-006</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Purge Expired Sessions by TTL</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-DAT-006</code></td>
          <td>SYS-013</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-SEC-001</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Validate Bearer Token on Every Protected Request</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-SEC-001</code></td>
          <td>SYS-003</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-SEC-002</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Admin Route Middleware Blocks Non-Loopback</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-SEC-002</code></td>
          <td>SYS-004</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-SEC-003</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Caddy TLS Termination Forwards Headers Intact</td>
          <td>‚Äî</td>
          <td>Inspection</td>
          <td><code>TC-SUB-SEC-003</code></td>
          <td>SYS-014</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-SEC-004</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Request Size Middleware Enforces Limit</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-SEC-004</code></td>
          <td>SYS-015</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-PERF-001</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Anonymize Latency Under 2 Seconds for Typical Input</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-PERF-001</code></td>
          <td>SYS-001</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>
<tr style="background:white">
          <td><code>SUB-PERF-002</code></td>
          <td><span class="badge-l2">L2</span></td>
          <td>Size Limit Check Adds Under 5 Milliseconds Overhead</td>
          <td>‚Äî</td>
          <td>Test</td>
          <td><code>TC-SUB-PERF-002</code></td>
          <td>SYS-015</td>
          <td>‚Äî</td>
          <td><span class="ok">‚úì Clean</span></td>
        </tr>

    </table>
  </section>

  <section>
    <h2>‚ö†Ô∏è Orphan &amp; Coverage Issues</h2>
    <div class="section-body">
      <p><strong>Orphan L2 (no parent L1):</strong> <span class="ok">None</span></p>
      <br>
      <p><strong>Childless L1 (no L2 allocated):</strong> <span class="ok">None</span></p>
      <br>
      <p><strong>Untested:</strong> <span class="ok">None</span></p>
    </div>
  </section>

</div>
</body>
</html>